<div ng-controller="ModelAddCtrl" class="app-content-body">
	<div class="wrapper-md ng-binding">
		<div class="panel panel-default">
			<div class="panel-heading font-bold">Добавить</div>
			<div class="panel-body">

				<div class="row">
					<form id="main-form" class="bs-example form-horizontal ng-pristine ng-valid" ng-submit="create()">
						<div class="col-sm-4">
							<div class="form-group">

								<div class="col-lg-10">
									<img id="blah" src="#" alt="Выберите Фото" style="width: 270px; height: 250px; border: 3px solid #888" /> <br> <input
										ng-model="model.photos" type='file' id="imgInp" accept="image/*" />
								</div>

							</div>
						</div>

						<div class="col-sm-8">
							<div class="row">
								<div class="col-sm-6">

									<div class="form-group">
										<label class="col-lg-3 control-label">Название</label>
										<div class="col-lg-9">
											<input type="number" placeholder="Введите название" class="form-control" ng-model="model.name">
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-3 control-label">Артикул</label>
										<div class="col-lg-9">
											<input type="number" placeholder="Введите артикул" class="form-control" ng-model="model.artikul">
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-3 control-label">Баркод</label>
										<div class="col-lg-9">
											<input type="number" placeholder="Введите баркод" class="form-control" ng-model="model.barcode">
										</div>
									</div>


									<div class="form-group">
										<label class="col-lg-3 control-label">Пол</label>
										<div class='col-lg-9'>
											<select ng-model="model.sex.id" ng-required="true" class="form-control" select>
												<option value="">Выберите...</option>
												<option ng-repeat="sex in sexes" ng-value="sex.id">{{sex.name}}</option>
											</select>
										</div>
									</div>
									
									<div class="form-group">
<!-- 										<label class="col-sm-8 control-label"></label> -->
										<div class="col-sm-12">
											<label class="checkbox-inline i-checks"> <input type="checkbox" ng-model="model.productBasedLine"> <i></i>
											Лийнейка по продуктам</label>
										</div>
									</div>

								</div>

								<div class="col-sm-6">
									<div class="form-group">
										<label class="col-lg-4 control-label" >Возрастная категория</label>
										<div class='col-lg-8'>
											<select ng-model="model.ageCategory.id" ng-required="true" class="form-control" select>
												<option value="">Выберите...</option>
												<option ng-repeat="ageCategory in ageCategorys" ng-value="ageCategory.id">{{ageCategory.name}}</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">Классификация</label>
										<div class='col-lg-8'>
											<select ng-model="model.classification.id" ng-required="true" class="form-control" select>
												<option value="">Выберите...</option>
												<option ng-repeat="classification in classifications" ng-value="classification.id">{{classification.name}}</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-3 control-label">Сезон</label>
										<div class='col-lg-9'>
											<select ng-model="model.season.id" ng-required="true" class="form-control" select>
												<option value="">Выберите...</option>
												<option ng-repeat="season in seasons" ng-value="season.id">{{season.name}}</option>
											</select>
										</div>
									</div>

<!-- 									<div class="form-group"> -->
<!-- 										<label class="col-lg-4 control-label">Цвет</label> -->
<!-- 										<div class='col-lg-8'> -->
<!-- 											<ui-select multiple ng-model="model.color"> -->
<!-- 											    <ui-select-match> -->
<!-- 											        <span ng-bind="$item.name"></span> -->
<!-- 											    </ui-select-match> -->
<!-- 											    <ui-select-choices repeat="item in (colors | filter: $select.search) track by item.id"> -->
<!-- 											        <span ng-bind="item.name"></span> -->
<!-- 											    </ui-select-choices> -->
<!-- 											</ui-select> -->
<!-- 										</div> -->
<!-- 									</div> -->

									<div class="form-group">
										<label class="col-lg-4 control-label">Размеры</label>
										<div class='col-lg-8'>
											<ui-select multiple ng-model="model.size">
											    <ui-select-match>
											        <span ng-bind="$item.size"></span>
											    </ui-select-match>
											    <ui-select-choices repeat="item in (sizes | filter: $select.search) track by item.id">
											        <span ng-bind="item.size"></span>
											    </ui-select-choices>
											</ui-select>
										</div>
									</div>

								</div>
							</div>
						</div>
					</form>
				</div>

				<hr>

				<div class="row">
					
					<div class="col-sm-6">
						<div class="panel panel-info">
							<div class="panel-heading">Ткани</div>
							<div class="panel-body">
								<form class="ng-pristine ng-valid" role="form">
									<div class="form-group wrapper-xs col-md-4">
										<label class="sr-only" for="fabric">Ткани</label> 										
										<ui-select ng-model="ingrFabricModel.fabric">
										    <ui-select-match>
										        <span ng-bind="$select.selected.name"></span>
										    </ui-select-match>
										    <ui-select-choices repeat="item in (fabrics | filter: $select.search) track by item.id">
										        <span ng-bind="item.name"></span>
										    </ui-select-choices>
										</ui-select>
									</div>
									<div class="form-group wrapper-xs col-md-4">
										<label class="sr-only" for="amount">Количество</label> 
										<input type="number" min="0" id="amount" placeholder="Количество" class="form-control" ng-model="ingrFabricModel.amount" >
									</div>
									<div class="checkbox wrapper-xs col-md-3">
										<label class="i-checks"><input type="checkbox" ng-model="ingrFabricModel.isMain"> <i></i>Осн..</label>
									</div>
									<div class="wrapper-xs col-md-1">
										<a ng-click="addTextileIngred()" class=" btn btn-sm btn-info">+</a>
									</div>
								</form>
								<table class="table table-striped m-b-none">
									<thead>
										<tr>
											<th>#</th>
											<th>Ткань</th>
											<th>Количество</th>
											<th>Основной</th>
											<th>опции</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="ingrFabricModel in model.ingrFabricModelList track by $index">
											<td>{{$index+1}}</td>
											<td>{{ingrFabricModel.fabric.name}}</td>
											<td>{{ingrFabricModel.amount}}</td>
											<td><i ng-if="ingrFabricModel.isMain" class="fa fa-check text-success text"></i><i ng-if="!ingrFabricModel.isMain" class="fa fa-times text-danger text"></i></td>
											<td><a ng-click="removeTextileIngred(ingrFabricModel.fabric.id)" class=" btn btn-sm btn-danger"><i class="glyphicon glyphicon-trash icon "></i></a></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					
					<div class="col-sm-6">
						<div class="panel panel-success">
							<div class="panel-heading">Аксесуары</div>
							<div class="panel-body">
								<form class="ng-pristine ng-valid" role="form">
									<div class="form-group wrapper-xs col-md-5">
										<label class="sr-only" for="accessories" style="color: #3c763d">Аксесуары</label> 
										<ui-select ng-model="ingrAccessoryModel.accessory">
										    <ui-select-match>
										        <span ng-bind="$select.selected.name"></span>
										    </ui-select-match>
										    <ui-select-choices repeat="item in (accessories | filter: $select.search) track by item.id">
										        <span ng-bind="item.name"></span>
										    </ui-select-choices>
										</ui-select>
									</div>
									<div class="form-group wrapper-xs col-md-5">
										<label class="sr-only" for="amount" style="color: #3c763d">Количество</label> 
										<input type="number" min="0" placeholder="Количество" class="form-control" ng-model="ingrAccessoryModel.amount" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="1" >
									</div>
									<div class="wrapper-xs col-md-2">
										<a ng-click="addAccessoryIngred()" class=" btn btn-sm btn-info">+</a>
									</div>
								</form>
								<table class="table table-striped m-b-none">
									<thead>
										<tr>
											<th>#</th>
											<th>Аксесуар</th>
											<th>Количество</th>
											<th>опции</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="ingrAccessoryModel in model.ingrAccessoryModelList track by $index">
											<td>{{$index+1}}</td>
											<td>{{ingrAccessoryModel.accessory.name}}</td>
											<td>{{ingrAccessoryModel.amount}}</td>
											<td><a ng-click="removeAccessoryIngred(ingrAccessoryModel.accessory.id)" class=" btn btn-sm btn-danger"><i class="glyphicon glyphicon-trash icon "></i></a></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				
				<div class="form-group">
					<label class="col-lg-10 control-label"></label>
					<div class="col-lg-2">
						<button class="btn btn-sm btn-info" form="main-form" type="submit">Сохранить</button>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>